var e={640:function(e,t,r){var n,i;n=function(){var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function i(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(t,r){for(var i=0;i<n.length;i++){var o=n[i];this[o]=i<t?e:this.methodFactory(o,t,r)}this.log=this.debug}function a(e,r,n){return function(){typeof console!==t&&(s.call(this,r,n),this[e].apply(this,arguments))}}function c(n,s,c){return function(n){return"debug"===n&&(n="log"),typeof console!==t&&("trace"===n&&r?o:void 0!==console[n]?i(console,n):void 0!==console.log?i(console,"log"):e)}(n)||a.apply(this,arguments)}function l(e,r,i){var o,a=this;r=null==r?"WARN":r;var l="loglevel";function u(){var e;if(typeof window!==t&&l){try{e=window.localStorage[l]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(l)+"=");-1!==n&&(e=/^([^;]+)/.exec(r.slice(n))[1])}catch(e){}return void 0===a.levels[e]&&(e=void 0),e}}"string"==typeof e?l+=":"+e:"symbol"==typeof e&&(l=void 0),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=i||c,a.getLevel=function(){return o},a.setLevel=function(r,i){if("string"==typeof r&&void 0!==a.levels[r.toUpperCase()]&&(r=a.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(o=r,!1!==i&&function(e){var r=(n[e]||"silent").toUpperCase();if(typeof window!==t&&l){try{return void(window.localStorage[l]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"="+r+";"}catch(e){}}}(r),s.call(a,r,e),typeof console===t&&r<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(e){r=e,u()||a.setLevel(e,!1)},a.resetLevel=function(){a.setLevel(r,!1),function(){if(typeof window!==t&&l){try{return void window.localStorage.removeItem(l)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var h=u();null==h&&(h=r),a.setLevel(h,!1)}var u=new l,h={};u.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=h[e];return t||(t=h[e]=new l(e,u.getLevel(),u.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return u.noConflict=function(){return typeof window!==t&&window.log===u&&(window.log=p),u},u.getLoggers=function(){return h},u.default=u,u},void 0===(i=n.call(t,r,t,e))||(e.exports=i)}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{r.d(n,{jq:()=>o,Gr:()=>$t,kH:()=>zt,CO:()=>R,dL:()=>j,RI:()=>Jt,Xy:()=>vi,rI:()=>w,z3:()=>sr,lH:()=>T,bu:()=>A,zT:()=>x,CU:()=>O,EE:()=>U,xW:()=>Gt,nJ:()=>E,X1:()=>g,o:()=>P,Ck:()=>b,X$:()=>C,lI:()=>S,xo:()=>L,MW:()=>m,_S:()=>Kt,Nq:()=>Yt,Ko:()=>I,eA:()=>k,k5:()=>v,Rp:()=>Qt,kz:()=>H,aH:()=>t,Ir:()=>W,R:()=>i});var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>He,hasStandardBrowserEnv:()=>qe,hasStandardBrowserWebWorkerEnv:()=>$e});const t=3e4,i="cbo_skip_passkey_append_after_hybrid";var o;!function(e){e[e.LoggedOut=0]="LoggedOut",e[e.LoggedIn=1]="LoggedIn"}(o||(o={}));var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},s(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function c(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function u(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function h(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function p(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var d,f=r(640),y=r.n(f);class w extends Error{constructor(e,t){super("An error has occurred"),d.set(this,void 0),this.name="CorbadoError",this.recoverable=e,this.ignore=t}get translatedMessage(){return h(this,d,"f")?h(this,d,"f"):this.message}set translatedMessage(e){p(this,d,e,"f")}static missingInit(){return new w(!1,!1)}static invalidConfig(){return new w(!1,!1)}static ignore(){return new w(!0,!0)}static conditionalUINotSupported(){return new w(!1,!0)}static fromAxiosError(e){if(y().error("axios error",e),!e.response||!e.response.data)return g.unhandledBackendError("no_data_in_response");const t=e.response.data;console.log("errorRespRaw",t.error.type);const r=t.error;return"process_not_available"===r.type?new L:g.unhandledBackendError(r.type)}static fromDOMException(e){switch(console.log("e",e.name,e.message),e.name){case"NotAllowedError":case"AbortError":return new C;case"SecurityError":return new g("SecurityError");default:return y().warn("unhandled DOM exception",e.name,e.message),new g(e.message)}}static fromUnknownFrontendError(e){return e instanceof Error&&"CanceledError"===e.name?w.ignore():g.unhandledFrontendError(`unknown ${e}`)}static noPasskeyAvailable(){return new E}static onlyHybridPasskeyAvailable(){return new P}}d=new WeakMap;class m extends w{constructor(e){super(!0,!1),this.name=e}getTranslationKey(){return`errors.${this.name}`}static unknown(){return new m("unknown")}}class g extends w{constructor(e,t,r){super(!1,!1),this.message=e,this.link=t,this.requestId=r}static unhandledFrontendError(e){return new g(`An error occurred in the frontend was not handled: ${e}`)}static unhandledBackendError(e,t){return new g(`This error is not being handled by the frontend: ${t} (${e})`)}}class v extends m{constructor(){super("User already exists"),this.name="errors.userAlreadyExists"}}class b extends m{constructor(){super("Passkey for this device already exists"),this.name="errors.passkeyAlreadyExists"}}class S extends m{constructor(){super("Passkeys are not supported for this device"),this.name="errors.passkeysNotSupported"}}class k extends m{constructor(){super("User does not exist"),this.name="errors.unknownUser"}}class E extends m{constructor(){super("No passkey available"),this.name="errors.noPasskeyAvailable"}}class P extends m{constructor(){super("Only hybrid passkey available"),this.name="errors.onlyHybridPasskeyAvailable"}}class O extends m{constructor(){super("The provided passkey is no longer valid."),this.name="errors.invalidPasskey"}}class C extends m{constructor(){super("Passkey challenge cancelled"),this.name="errors.passkeyChallengeCancelled"}}class A extends m{constructor(){super("Invalid fullName"),this.name="errors.invalidFullname"}}class T extends m{constructor(){super("Invalid email"),this.name="errors.invalidName"}}class x extends m{constructor(){super("The provided OTP is no longer valid"),this.name="errors.invalidOtp"}}class U extends m{constructor(){super("The provided token is not valid for user verification"),this.name="errors.invalidToken"}}class R extends m{constructor(){super("Conditional UI is not supported by your device"),this.name="errors.noConditionalUiSupport"}}class j extends m{constructor(){super("Unconfirmed credential"),this.name="errors.conditionalUiUnconfirmedCredential"}}class I extends m{constructor(){super("An unknown error occurred"),this.name="errors.unknownError"}}class L extends m{constructor(){super("processNotFound")}}function _(e){var t=String(e);if("[object Object]"===t)try{t=JSON.stringify(e)}catch(e){}return t}var F=new(function(){function e(){this.some=!1,this.none=!0}return e.prototype[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:void 0}}}},e.prototype.unwrapOr=function(e){return e},e.prototype.expect=function(e){throw new Error(""+e)},e.prototype.unwrap=function(){throw new Error("Tried to unwrap None")},e.prototype.map=function(e){return this},e.prototype.andThen=function(e){return this},e.prototype.toResult=function(e){return M(e)},e.prototype.toString=function(){return"None"},e}());Object.freeze(F);var D,N=function(){function e(t){if(!(this instanceof e))return new e(t);this.some=!0,this.none=!1,this.val=t}return e.prototype[Symbol.iterator]=function(){var e=Object(this.val);return Symbol.iterator in e?e[Symbol.iterator]():{next:function(){return{done:!0,value:void 0}}}},e.prototype.unwrapOr=function(e){return this.val},e.prototype.expect=function(e){return this.val},e.prototype.unwrap=function(){return this.val},e.prototype.map=function(e){return N(e(this.val))},e.prototype.andThen=function(e){return e(this.val)},e.prototype.toResult=function(e){return B(this.val)},e.prototype.safeUnwrap=function(){return this.val},e.prototype.toString=function(){return"Some("+_(this.val)+")"},e.EMPTY=new e(void 0),e}();!function(e){e.all=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=[],n=0,i=e;n<i.length;n++){var o=i[n];if(!o.some)return o;r.push(o.val)}return N(r)},e.any=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e;r<n.length;r++){var i=n[r];return i.some,i}return F},e.isOption=function(e){return e instanceof N||e===F}}(D||(D={}));var V,M=function(){function e(t){if(!(this instanceof e))return new e(t);this.ok=!1,this.err=!0,this.val=t;var r=(new Error).stack.split("\n").slice(2);r&&r.length>0&&r[0].includes("ErrImpl")&&r.shift(),this._stack=r.join("\n")}return e.prototype[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:void 0}}}},e.prototype.else=function(e){return e},e.prototype.unwrapOr=function(e){return e},e.prototype.expect=function(e){throw new Error(e+" - Error: "+_(this.val)+"\n"+this._stack)},e.prototype.unwrap=function(){throw new Error("Tried to unwrap Error: "+_(this.val)+"\n"+this._stack)},e.prototype.map=function(e){return this},e.prototype.andThen=function(e){return this},e.prototype.mapErr=function(e){return new M(e(this.val))},e.prototype.toOption=function(){return F},e.prototype.toString=function(){return"Err("+_(this.val)+")"},Object.defineProperty(e.prototype,"stack",{get:function(){return this+"\n"+this._stack},enumerable:!1,configurable:!0}),e.EMPTY=new e(void 0),e}(),B=function(){function e(t){if(!(this instanceof e))return new e(t);this.ok=!0,this.err=!1,this.val=t}return e.prototype[Symbol.iterator]=function(){var e=Object(this.val);return Symbol.iterator in e?e[Symbol.iterator]():{next:function(){return{done:!0,value:void 0}}}},e.prototype.else=function(e){return this.val},e.prototype.unwrapOr=function(e){return this.val},e.prototype.expect=function(e){return this.val},e.prototype.unwrap=function(){return this.val},e.prototype.map=function(e){return new B(e(this.val))},e.prototype.andThen=function(e){return e(this.val)},e.prototype.mapErr=function(e){return this},e.prototype.toOption=function(){return N(this.val)},e.prototype.safeUnwrap=function(){return this.val},e.prototype.toString=function(){return"Ok("+_(this.val)+")"},e.EMPTY=new e(void 0),e}();!function(e){e.all=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=[],n=0,i=e;n<i.length;n++){var o=i[n];if(!o.ok)return o;r.push(o.val)}return new B(r)},e.any=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=[],n=0,i=e;n<i.length;n++){var o=i[n];if(o.ok)return o;r.push(o.val)}return new M(r)},e.wrap=function(e){try{return new B(e())}catch(e){return new M(e)}},e.wrapAsync=function(e){try{return e().then((function(e){return new B(e)})).catch((function(e){return new M(e)}))}catch(e){return Promise.resolve(new M(e))}},e.isResult=function(e){return e instanceof M||e instanceof B}}(V||(V={}));const W=()=>{var e;const t=new URLSearchParams(window.location.search),r=t.get("corbadoEmailLinkID");if(!r)return M(new U);const n=null===(e=t.get("corbadoToken"))||void 0===e?void 0:e.split("#email-link-confirm")[0];return n?B({emailLinkId:r,token:n}):M(new U)},H=e=>{var t,r;return!(null===(r=null===(t=e.publicKey)||void 0===t?void 0:t.allowCredentials)||void 0===r?void 0:r.some((e=>e.transports&&e.transports.some((e=>"hybrid"!==e)))))};function q(e,t){return function(){return e.apply(t,arguments)}}const{toString:X}=Object.prototype,{getPrototypeOf:$}=Object,z=(J=Object.create(null),e=>{const t=X.call(e);return J[t]||(J[t]=t.slice(8,-1).toLowerCase())});var J;const G=e=>(e=e.toLowerCase(),t=>z(t)===e),K=e=>t=>typeof t===e,{isArray:Y}=Array,Q=K("undefined"),Z=G("ArrayBuffer"),ee=K("string"),te=K("function"),re=K("number"),ne=e=>null!==e&&"object"==typeof e,ie=e=>{if("object"!==z(e))return!1;const t=$(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},oe=G("Date"),se=G("File"),ae=G("Blob"),ce=G("FileList"),le=G("URLSearchParams");function ue(e,t,{allOwnKeys:r=!1}={}){if(null==e)return;let n,i;if("object"!=typeof e&&(e=[e]),Y(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(n=0;n<o;n++)s=i[n],t.call(null,e[s],s,e)}}function he(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,i=r.length;for(;i-- >0;)if(n=r[i],t===n.toLowerCase())return n;return null}const pe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,de=e=>!Q(e)&&e!==pe,fe=(ye="undefined"!=typeof Uint8Array&&$(Uint8Array),e=>ye&&e instanceof ye);var ye;const we=G("HTMLFormElement"),me=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),ge=G("RegExp"),ve=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ue(r,((r,i)=>{let o;!1!==(o=t(r,i,e))&&(n[i]=o||r)})),Object.defineProperties(e,n)},be="abcdefghijklmnopqrstuvwxyz",Se="0123456789",ke={DIGIT:Se,ALPHA:be,ALPHA_DIGIT:be+be.toUpperCase()+Se},Ee=G("AsyncFunction"),Pe={isArray:Y,isArrayBuffer:Z,isBuffer:function(e){return null!==e&&!Q(e)&&null!==e.constructor&&!Q(e.constructor)&&te(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||te(e.append)&&("formdata"===(t=z(e))||"object"===t&&te(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Z(e.buffer),t},isString:ee,isNumber:re,isBoolean:e=>!0===e||!1===e,isObject:ne,isPlainObject:ie,isUndefined:Q,isDate:oe,isFile:se,isBlob:ae,isRegExp:ge,isFunction:te,isStream:e=>ne(e)&&te(e.pipe),isURLSearchParams:le,isTypedArray:fe,isFileList:ce,forEach:ue,merge:function e(){const{caseless:t}=de(this)&&this||{},r={},n=(n,i)=>{const o=t&&he(r,i)||i;ie(r[o])&&ie(n)?r[o]=e(r[o],n):ie(n)?r[o]=e({},n):Y(n)?r[o]=n.slice():r[o]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&ue(arguments[e],n);return r},extend:(e,t,r,{allOwnKeys:n}={})=>(ue(t,((t,n)=>{r&&te(t)?e[n]=q(t,r):e[n]=t}),{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],n&&!n(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==r&&$(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:z,kindOfTest:G,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(Y(e))return e;let t=e.length;if(!re(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:we,hasOwnProperty:me,hasOwnProp:me,reduceDescriptors:ve,freezeMethods:e=>{ve(e,((t,r)=>{if(te(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];te(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return Y(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:he,global:pe,isContextDefined:de,ALPHABET:ke,generateString:(e=16,t=ke.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r},isSpecCompliantForm:function(e){return!!(e&&te(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(ne(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const i=Y(e)?[]:{};return ue(e,((e,t)=>{const o=r(e,n+1);!Q(o)&&(i[t]=o)})),t[n]=void 0,i}}return e};return r(e,0)},isAsyncFn:Ee,isThenable:e=>e&&(ne(e)||te(e))&&te(e.then)&&te(e.catch)};function Oe(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}Pe.inherits(Oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ce=Oe.prototype,Ae={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Ae[e]={value:e}})),Object.defineProperties(Oe,Ae),Object.defineProperty(Ce,"isAxiosError",{value:!0}),Oe.from=(e,t,r,n,i,o)=>{const s=Object.create(Ce);return Pe.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Oe.call(s,e.message,t,r,n,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const Te=Oe;function xe(e){return Pe.isPlainObject(e)||Pe.isArray(e)}function Ue(e){return Pe.endsWith(e,"[]")?e.slice(0,-2):e}function Re(e,t,r){return e?e.concat(t).map((function(e,t){return e=Ue(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const je=Pe.toFlatObject(Pe,{},null,(function(e){return/^is[A-Z]/.test(e)})),Ie=function(e,t,r){if(!Pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=Pe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Pe.isUndefined(t[e])}))).metaTokens,i=r.visitor||l,o=r.dots,s=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&Pe.isSpecCompliantForm(t);if(!Pe.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(Pe.isDate(e))return e.toISOString();if(!a&&Pe.isBlob(e))throw new Te("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(e)||Pe.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,r,i){let a=e;if(e&&!i&&"object"==typeof e)if(Pe.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(Pe.isArray(e)&&function(e){return Pe.isArray(e)&&!e.some(xe)}(e)||(Pe.isFileList(e)||Pe.endsWith(r,"[]"))&&(a=Pe.toArray(e)))return r=Ue(r),a.forEach((function(e,n){!Pe.isUndefined(e)&&null!==e&&t.append(!0===s?Re([r],n,o):null===s?r:r+"[]",c(e))})),!1;return!!xe(e)||(t.append(Re(i,r,o),c(e)),!1)}const u=[],h=Object.assign(je,{defaultVisitor:l,convertValue:c,isVisitable:xe});if(!Pe.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!Pe.isUndefined(r)){if(-1!==u.indexOf(r))throw Error("Circular reference detected in "+n.join("."));u.push(r),Pe.forEach(r,(function(r,o){!0===(!(Pe.isUndefined(r)||null===r)&&i.call(t,r,Pe.isString(o)?o.trim():o,n,h))&&e(r,n?n.concat(o):[o])})),u.pop()}}(e),t};function Le(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function _e(e,t){this._pairs=[],e&&Ie(e,this,t)}const Fe=_e.prototype;Fe.append=function(e,t){this._pairs.push([e,t])},Fe.toString=function(e){const t=e?function(t){return e.call(this,t,Le)}:Le;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const De=_e;function Ne(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ve(e,t,r){if(!t)return e;const n=r&&r.encode||Ne,i=r&&r.serialize;let o;if(o=i?i(t,r):Pe.isURLSearchParams(t)?t.toString():new De(t,r).toString(n),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const Me=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Pe.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Be={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},We={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:De,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},He="undefined"!=typeof window&&"undefined"!=typeof document,qe=(Xe="undefined"!=typeof navigator&&navigator.product,He&&["ReactNative","NativeScript","NS"].indexOf(Xe)<0);var Xe;const $e="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,ze={...e,...We},Je=function(e){function t(e,r,n,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;return o=!o&&Pe.isArray(n)?n.length:o,a?(Pe.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!s):(n[o]&&Pe.isObject(n[o])||(n[o]=[]),t(e,r,n[o],i)&&Pe.isArray(n[o])&&(n[o]=function(e){const t={},r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}(n[o])),!s)}if(Pe.isFormData(e)&&Pe.isFunction(e.entries)){const r={};return Pe.forEachEntry(e,((e,n)=>{t(function(e){return Pe.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null},Ge={transitional:Be,adapter:["xhr","http"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,i=Pe.isObject(e);if(i&&Pe.isHTMLForm(e)&&(e=new FormData(e)),Pe.isFormData(e))return n&&n?JSON.stringify(Je(e)):e;if(Pe.isArrayBuffer(e)||Pe.isBuffer(e)||Pe.isStream(e)||Pe.isFile(e)||Pe.isBlob(e))return e;if(Pe.isArrayBufferView(e))return e.buffer;if(Pe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ie(e,new ze.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return ze.isNode&&Pe.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=Pe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ie(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),function(e,t,r){if(Pe.isString(e))try{return(0,JSON.parse)(e),Pe.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ge.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(e&&Pe.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw Te.from(e,Te.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ze.classes.FormData,Blob:ze.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],(e=>{Ge.headers[e]={}}));const Ke=Ge,Ye=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Qe=Symbol("internals");function Ze(e){return e&&String(e).trim().toLowerCase()}function et(e){return!1===e||null==e?e:Pe.isArray(e)?e.map(et):String(e)}function tt(e,t,r,n,i){return Pe.isFunction(n)?n.call(this,t,r):(i&&(t=r),Pe.isString(t)?Pe.isString(n)?-1!==t.indexOf(n):Pe.isRegExp(n)?n.test(t):void 0:void 0)}class rt{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(e,t,r){const i=Ze(t);if(!i)throw new Error("header name must be a non-empty string");const o=Pe.findKey(n,i);(!o||void 0===n[o]||!0===r||void 0===r&&!1!==n[o])&&(n[o||t]=et(e))}const o=(e,t)=>Pe.forEach(e,((e,r)=>i(e,r,t)));return Pe.isPlainObject(e)||e instanceof this.constructor?o(e,t):Pe.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o((e=>{const t={};let r,n,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),r=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!r||t[r]&&Ye[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t):null!=e&&i(t,e,r),this}get(e,t){if(e=Ze(e)){const r=Pe.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(Pe.isFunction(t))return t.call(this,e,r);if(Pe.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ze(e)){const r=Pe.findKey(this,e);return!(!r||void 0===this[r]||t&&!tt(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function i(e){if(e=Ze(e)){const i=Pe.findKey(r,e);!i||t&&!tt(0,r[i],i,t)||(delete r[i],n=!0)}}return Pe.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const i=t[r];e&&!tt(0,this[i],i,e,!0)||(delete this[i],n=!0)}return n}normalize(e){const t=this,r={};return Pe.forEach(this,((n,i)=>{const o=Pe.findKey(r,i);if(o)return t[o]=et(n),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(i):String(i).trim();s!==i&&delete t[i],t[s]=et(n),r[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Pe.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&Pe.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach((e=>r.set(e))),r}static accessor(e){const t=(this[Qe]=this[Qe]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=Ze(e);t[n]||(function(e,t){const r=Pe.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})}))}(r,e),t[n]=!0)}return Pe.isArray(e)?e.forEach(n):n(e),this}}rt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Pe.reduceDescriptors(rt.prototype,(({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}})),Pe.freezeMethods(rt);const nt=rt;function it(e,t){const r=this||Ke,n=t||r,i=nt.from(n.headers);let o=n.data;return Pe.forEach(e,(function(e){o=e.call(r,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function ot(e){return!(!e||!e.__CANCEL__)}function st(e,t,r){Te.call(this,null==e?"canceled":e,Te.ERR_CANCELED,t,r),this.name="CanceledError"}Pe.inherits(st,Te,{__CANCEL__:!0});const at=st,ct=ze.hasStandardBrowserEnv?{write(e,t,r,n,i,o){const s=[e+"="+encodeURIComponent(t)];Pe.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),Pe.isString(n)&&s.push("path="+n),Pe.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function lt(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ut=ze.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function n(r){let n=r;return e&&(t.setAttribute("href",n),n=t.href),t.setAttribute("href",n),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return r=n(window.location.href),function(e){const t=Pe.isString(e)?n(e):e;return t.protocol===r.protocol&&t.host===r.host}}():function(){return!0};function ht(e,t){let r=0;const n=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),l=n[s];i||(i=c),r[o]=a,n[o]=c;let u=s,h=0;for(;u!==o;)h+=r[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),c-i<t)return;const p=l&&c-l;return p?Math.round(1e3*h/p):void 0}}(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-r,c=n(a);r=o;const l={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&o<=s?(s-o)/c:void 0,event:i};l[t?"download":"upload"]=!0,e(l)}}const pt="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){let n=e.data;const i=nt.from(e.headers).normalize();let o,s,{responseType:a,withXSRFToken:c}=e;function l(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}if(Pe.isFormData(n))if(ze.hasStandardBrowserEnv||ze.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(s=i.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",r=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+r))}const h=lt(e.baseURL,e.url);function p(){if(!u)return;const n=nt.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new Te("Request failed with status code "+r.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}((function(e){t(e),l()}),(function(e){r(e),l()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:n,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),Ve(h,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=p:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(p)},u.onabort=function(){u&&(r(new Te("Request aborted",Te.ECONNABORTED,e,u)),u=null)},u.onerror=function(){r(new Te("Network Error",Te.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const n=e.transitional||Be;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new Te(t,n.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,e,u)),u=null},ze.hasStandardBrowserEnv&&(c&&Pe.isFunction(c)&&(c=c(e)),c||!1!==c&&ut(h))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&ct.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===n&&i.setContentType(null),"setRequestHeader"in u&&Pe.forEach(i.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),Pe.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&u.addEventListener("progress",ht(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",ht(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{u&&(r(!t||t.type?new at(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const d=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(h);d&&-1===ze.protocols.indexOf(d)?r(new Te("Unsupported protocol "+d+":",Te.ERR_BAD_REQUEST,e)):u.send(n||null)}))},dt={http:null,xhr:pt};Pe.forEach(dt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const ft=e=>`- ${e}`,yt=e=>Pe.isFunction(e)||null===e||!1===e,wt=e=>{e=Pe.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let o=0;o<t;o++){let t;if(r=e[o],n=r,!yt(r)&&(n=dt[(t=String(r)).toLowerCase()],void 0===n))throw new Te(`Unknown adapter '${t}'`);if(n)break;i[t||"#"+o]=n}if(!n){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let r=t?e.length>1?"since :\n"+e.map(ft).join("\n"):" "+ft(e[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n};function mt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new at(null,e)}function gt(e){return mt(e),e.headers=nt.from(e.headers),e.data=it.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),wt(e.adapter||Ke.adapter)(e).then((function(t){return mt(e),t.data=it.call(e,e.transformResponse,t),t.headers=nt.from(t.headers),t}),(function(t){return ot(t)||(mt(e),t&&t.response&&(t.response.data=it.call(e,e.transformResponse,t.response),t.response.headers=nt.from(t.response.headers))),Promise.reject(t)}))}const vt=e=>e instanceof nt?e.toJSON():e;function bt(e,t){t=t||{};const r={};function n(e,t,r){return Pe.isPlainObject(e)&&Pe.isPlainObject(t)?Pe.merge.call({caseless:r},e,t):Pe.isPlainObject(t)?Pe.merge({},t):Pe.isArray(t)?t.slice():t}function i(e,t,r){return Pe.isUndefined(t)?Pe.isUndefined(e)?void 0:n(void 0,e,r):n(e,t,r)}function o(e,t){if(!Pe.isUndefined(t))return n(void 0,t)}function s(e,t){return Pe.isUndefined(t)?Pe.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,i,o){return o in t?n(r,i):o in e?n(void 0,r):void 0}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>i(vt(e),vt(t),!0)};return Pe.forEach(Object.keys(Object.assign({},e,t)),(function(n){const o=c[n]||i,s=o(e[n],t[n],n);Pe.isUndefined(s)&&o!==a||(r[n]=s)})),r}const St={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{St[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const kt={};St.transitional=function(e,t,r){function n(e,t){return"[Axios v1.6.5] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,o)=>{if(!1===e)throw new Te(n(i," has been removed"+(t?" in "+t:"")),Te.ERR_DEPRECATED);return t&&!kt[i]&&(kt[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,o)}};const Et={assertOptions:function(e,t,r){if("object"!=typeof e)throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const o=n[i],s=t[o];if(s){const t=e[o],r=void 0===t||s(t,o,e);if(!0!==r)throw new Te("option "+o+" must be "+r,Te.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new Te("Unknown option "+o,Te.ERR_BAD_OPTION)}},validators:St},Pt=Et.validators;class Ot{constructor(e){this.defaults=e,this.interceptors={request:new Me,response:new Me}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=bt(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;void 0!==r&&Et.assertOptions(r,{silentJSONParsing:Pt.transitional(Pt.boolean),forcedJSONParsing:Pt.transitional(Pt.boolean),clarifyTimeoutError:Pt.transitional(Pt.boolean)},!1),null!=n&&(Pe.isFunction(n)?t.paramsSerializer={serialize:n}:Et.assertOptions(n,{encode:Pt.function,serialize:Pt.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&Pe.merge(i.common,i[t.method]);i&&Pe.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=nt.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,h=0;if(!a){const e=[gt.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,c),u=e.length,l=Promise.resolve(t);h<u;)l=l.then(e[h++],e[h++]);return l}u=s.length;let p=t;for(h=0;h<u;){const e=s[h++],t=s[h++];try{p=e(p)}catch(e){t.call(this,e);break}}try{l=gt.call(this,p)}catch(e){return Promise.reject(e)}for(h=0,u=c.length;h<u;)l=l.then(c[h++],c[h++]);return l}getUri(e){return Ve(lt((e=bt(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Pe.forEach(["delete","get","head","options"],(function(e){Ot.prototype[e]=function(t,r){return this.request(bt(r||{},{method:e,url:t,data:(r||{}).data}))}})),Pe.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(bt(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Ot.prototype[e]=t(),Ot.prototype[e+"Form"]=t(!0)}));const Ct=Ot;class At{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,i){r.reason||(r.reason=new at(e,n,i),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new At((function(t){e=t})),cancel:e}}}const Tt=At,xt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xt).forEach((([e,t])=>{xt[t]=e}));const Ut=xt,Rt=function e(t){const r=new Ct(t),n=q(Ct.prototype.request,r);return Pe.extend(n,Ct.prototype,r,{allOwnKeys:!0}),Pe.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(bt(t,r))},n}(Ke);Rt.Axios=Ct,Rt.CanceledError=at,Rt.CancelToken=Tt,Rt.isCancel=ot,Rt.VERSION="1.6.5",Rt.toFormData=Ie,Rt.AxiosError=Te,Rt.Cancel=Rt.CanceledError,Rt.all=function(e){return Promise.all(e)},Rt.spread=function(e){return function(t){return e.apply(null,t)}},Rt.isAxiosError=function(e){return Pe.isObject(e)&&!0===e.isAxiosError},Rt.mergeConfig=bt,Rt.AxiosHeaders=nt,Rt.formToJSON=e=>Je(Pe.isHTMLForm(e)?new FormData(e):e),Rt.getAdapter=wt,Rt.HttpStatusCode=Ut,Rt.default=Rt;const jt=Rt;"https://<project ID>.frontendapi.corbado.io".replace(/\/+$/,"");class It{constructor(e={}){this.apiKey=e.apiKey,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.baseOptions=e.baseOptions,this.formDataCtor=e.formDataCtor}isJsonMime(e){const t=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())}}const Lt="http://localhost".replace(/\/+$/,"");class _t{constructor(e,t=Lt,r=jt){this.basePath=t,this.axios=r,e&&(this.configuration=e,this.basePath=e.basePath||this.basePath)}}class Ft extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}const Dt="https://example.com",Nt=function(e,t,r){if(null==r)throw new Ft(t,`Required parameter ${t} was null or undefined when calling ${e}.`)},Vt=async function(e,t,r){if(r&&r.apiKey){const n="function"==typeof r.apiKey?await r.apiKey(t):await r.apiKey;e[t]=n}},Mt=async function(e,t){if(t&&t.accessToken){const r="function"==typeof t.accessToken?await t.accessToken():await t.accessToken;e.Authorization="Bearer "+r}};function Bt(e,t,r=""){null!=t&&("object"==typeof t?Array.isArray(t)?t.forEach((t=>Bt(e,t,r))):Object.keys(t).forEach((n=>Bt(e,t[n],`${r}${""!==r?".":""}${n}`))):e.has(r)?e.append(r,t):e.set(r,t))}const Wt=function(e,...t){const r=new URLSearchParams(e.search);Bt(r,t),e.search=r.toString()},Ht=function(e,t,r){const n="string"!=typeof e;return(n&&r&&r.isJsonMime?r.isJsonMime(t.headers["Content-Type"]):n)?JSON.stringify(void 0!==e?e:{}):e||""},qt=function(e){return e.pathname+e.search+e.hash},Xt=function(e,t,r,n){return(i=t,o=r)=>{const s={...e.options,url:((null==n?void 0:n.basePath)||i.defaults.baseURL||o)+e.url};return i.request(s)}},$t={Signup:"signup",Login:"login"},zt={SignupInit:"signup-init",PasskeyAppend:"passkey-append",PhoneVerify:"phone-verify",EmailVerify:"email-verify",PasskeyAppended:"passkey-appended",Completed:"completed",SocialVerify:"social-verify",UsernameCollect:"username-collect",PhoneCollect:"phone-collect",LoginInit:"login-init",PasskeyVerify:"passkey-verify",ConditionalUiCompleted:"conditional-ui-completed",PostSignupEmailVerify:"post-signup-email-verify",PasskeyAppendAfterHybrid:"passkey-append-after-hybrid"},Jt={EmailLinkVerified:"email-link-verified",ProcessAlreadyCompleted:"process-already-completed"},Gt={Email:"email",Phone:"phone",Username:"username"},Kt={Initial:"initial",Started:"started",Finished:"finished"},Yt={Google:"google",Microsoft:"microsoft",Github:"github"},Qt={EmailLink:"email-link",EmailOtp:"email-otp",PhoneOtp:"phone-otp"},Zt=function(e){const t=function(e){return{blockSkip:async(t={})=>{const r=new URL("/v2/auth/block/skip",Dt);let n;e&&(n=e.baseOptions);const i={method:"POST",...n,...t},o={};await Mt(o,e),await Vt(o,"X-Corbado-ProjectID",e),Wt(r,{});let s=n&&n.headers?n.headers:{};return i.headers={...o,...s,...t.headers},{url:qt(r),options:i}},identifierUpdate:async(t,r={})=>{Nt("identifierUpdate","identifierUpdateReq",t);const n=new URL("/v2/auth/identifier/update",Dt);let i;e&&(i=e.baseOptions);const o={method:"POST",...i,...r},s={};await Mt(s,e),await Vt(s,"X-Corbado-ProjectID",e),s["Content-Type"]="application/json",Wt(n,{});let a=i&&i.headers?i.headers:{};return o.headers={...s,...a,...r.headers},o.data=Ht(t,o,e),{url:qt(n),options:o}},identifierVerifyFinish:async(t,r={})=>{Nt("identifierVerifyFinish","identifierVerifyFinishReq",t);const n=new URL("/v2/auth/identifier/verify/finish",Dt);let i;e&&(i=e.baseOptions);const o={method:"POST",...i,...r},s={};await Mt(s,e),await Vt(s,"X-Corbado-ProjectID",e),s["Content-Type"]="application/json",Wt(n,{});let a=i&&i.headers?i.headers:{};return o.headers={...s,...a,...r.headers},o.data=Ht(t,o,e),{url:qt(n),options:o}},identifierVerifyStart:async(t,r={})=>{Nt("identifierVerifyStart","identifierVerifyStartReq",t);const n=new URL("/v2/auth/identifier/verify/start",Dt);let i;e&&(i=e.baseOptions);const o={method:"POST",...i,...r},s={};await Mt(s,e),await Vt(s,"X-Corbado-ProjectID",e),s["Content-Type"]="application/json",Wt(n,{});let a=i&&i.headers?i.headers:{};return o.headers={...s,...a,...r.headers},o.data=Ht(t,o,e),{url:qt(n),options:o}},identifierVerifyStatus:async(t={})=>{const r=new URL("/v2/auth/identifier/verify/status",Dt);let n;e&&(n=e.baseOptions);const i={method:"GET",...n,...t},o={};await Mt(o,e),await Vt(o,"X-Corbado-ProjectID",e),Wt(r,{});let s=n&&n.headers?n.headers:{};return i.headers={...o,...s,...t.headers},{url:qt(r),options:i}},loginInit:async(t,r={})=>{Nt("loginInit","loginInitReq",t);const n=new URL("/v2/auth/login/init",Dt);let i;e&&(i=e.baseOptions);const o={method:"POST",...i,...r},s={};await Mt(s,e),await Vt(s,"X-Corbado-ProjectID",e),s["Content-Type"]="application/json",Wt(n,{});let a=i&&i.headers?i.headers:{};return o.headers={...s,...a,...r.headers},o.data=Ht(t,o,e),{url:qt(n),options:o}},passkeyAppendFinish:async(t,r={})=>{Nt("passkeyAppendFinish","passkeyAppendFinishReq",t);const n=new URL("/v2/auth/passkey/append/finish",Dt);let i;e&&(i=e.baseOptions);const o={method:"POST",...i,...r},s={};await Mt(s,e),await Vt(s,"X-Corbado-ProjectID",e),s["Content-Type"]="application/json",Wt(n,{});let a=i&&i.headers?i.headers:{};return o.headers={...s,...a,...r.headers},o.data=Ht(t,o,e),{url:qt(n),options:o}},passkeyAppendStart:async(t,r={})=>{Nt("passkeyAppendStart","body",t);const n=new URL("/v2/auth/passkey/append/start",Dt);let i;e&&(i=e.baseOptions);const o={method:"POST",...i,...r},s={};await Mt(s,e),await Vt(s,"X-Corbado-ProjectID",e),s["Content-Type"]="application/json",Wt(n,{});let a=i&&i.headers?i.headers:{};return o.headers={...s,...a,...r.headers},o.data=Ht(t,o,e),{url:qt(n),options:o}},passkeyLoginFinish:async(t,r={})=>{Nt("passkeyLoginFinish","passkeyLoginFinishReq",t);const n=new URL("/v2/auth/passkey/login/finish",Dt);let i;e&&(i=e.baseOptions);const o={method:"POST",...i,...r},s={};await Mt(s,e),await Vt(s,"X-Corbado-ProjectID",e),s["Content-Type"]="application/json",Wt(n,{});let a=i&&i.headers?i.headers:{};return o.headers={...s,...a,...r.headers},o.data=Ht(t,o,e),{url:qt(n),options:o}},passkeyLoginStart:async(t,r={})=>{Nt("passkeyLoginStart","body",t);const n=new URL("/v2/auth/passkey/login/start",Dt);let i;e&&(i=e.baseOptions);const o={method:"POST",...i,...r},s={};await Mt(s,e),await Vt(s,"X-Corbado-ProjectID",e),s["Content-Type"]="application/json",Wt(n,{});let a=i&&i.headers?i.headers:{};return o.headers={...s,...a,...r.headers},o.data=Ht(t,o,e),{url:qt(n),options:o}},passkeyMediationFinish:async(t,r={})=>{Nt("passkeyMediationFinish","passkeyMediationFinishReq",t);const n=new URL("/v2/auth/passkey/mediation/finish",Dt);let i;e&&(i=e.baseOptions);const o={method:"POST",...i,...r},s={};await Mt(s,e),await Vt(s,"X-Corbado-ProjectID",e),s["Content-Type"]="application/json",Wt(n,{});let a=i&&i.headers?i.headers:{};return o.headers={...s,...a,...r.headers},o.data=Ht(t,o,e),{url:qt(n),options:o}},phoneCollect:async(t,r={})=>{Nt("phoneCollect","phoneCollectReq",t);const n=new URL("/v2/auth/phone/collect",Dt);let i;e&&(i=e.baseOptions);const o={method:"POST",...i,...r},s={};await Mt(s,e),await Vt(s,"X-Corbado-ProjectID",e),s["Content-Type"]="application/json",Wt(n,{});let a=i&&i.headers?i.headers:{};return o.headers={...s,...a,...r.headers},o.data=Ht(t,o,e),{url:qt(n),options:o}},processComplete:async(t={})=>{const r=new URL("/v2/auth/process/complete",Dt);let n;e&&(n=e.baseOptions);const i={method:"POST",...n,...t},o={};await Mt(o,e),await Vt(o,"X-Corbado-ProjectID",e),Wt(r,{});let s=n&&n.headers?n.headers:{};return i.headers={...o,...s,...t.headers},{url:qt(r),options:i}},processGet:async(t,r={})=>{const n=new URL("/v2/auth/process",Dt);let i;e&&(i=e.baseOptions);const o={method:"GET",...i,...r},s={},a={};await Mt(s,e),await Vt(s,"X-Corbado-ProjectID",e),void 0!==t&&(a.preferredBlock=t),Wt(n,a);let c=i&&i.headers?i.headers:{};return o.headers={...s,...c,...r.headers},{url:qt(n),options:o}},processInit:async(t,r={})=>{Nt("processInit","processInitReq",t);const n=new URL("/v2/auth/process/init",Dt);let i;e&&(i=e.baseOptions);const o={method:"POST",...i,...r},s={};await Mt(s,e),await Vt(s,"X-Corbado-ProjectID",e),s["Content-Type"]="application/json",Wt(n,{});let a=i&&i.headers?i.headers:{};return o.headers={...s,...a,...r.headers},o.data=Ht(t,o,e),{url:qt(n),options:o}},processReset:async(t={})=>{const r=new URL("/v2/auth/process/reset",Dt);let n;e&&(n=e.baseOptions);const i={method:"POST",...n,...t},o={};await Mt(o,e),await Vt(o,"X-Corbado-ProjectID",e),Wt(r,{});let s=n&&n.headers?n.headers:{};return i.headers={...o,...s,...t.headers},{url:qt(r),options:i}},signupInit:async(t,r={})=>{Nt("signupInit","signupInitReq",t);const n=new URL("/v2/auth/signup/init",Dt);let i;e&&(i=e.baseOptions);const o={method:"POST",...i,...r},s={};await Mt(s,e),await Vt(s,"X-Corbado-ProjectID",e),s["Content-Type"]="application/json",Wt(n,{});let a=i&&i.headers?i.headers:{};return o.headers={...s,...a,...r.headers},o.data=Ht(t,o,e),{url:qt(n),options:o}},socialVerifyCallback:async(t={})=>{const r=new URL("/v2/auth/social/verify/callback",Dt);let n;e&&(n=e.baseOptions);const i={method:"GET",...n,...t},o={};await Mt(o,e),await Vt(o,"X-Corbado-ProjectID",e),Wt(r,{});let s=n&&n.headers?n.headers:{};return i.headers={...o,...s,...t.headers},{url:qt(r),options:i}},socialVerifyFinish:async(t,r={})=>{Nt("socialVerifyFinish","body",t);const n=new URL("/v2/auth/social/verify/finish",Dt);let i;e&&(i=e.baseOptions);const o={method:"POST",...i,...r},s={};await Mt(s,e),await Vt(s,"X-Corbado-ProjectID",e),s["Content-Type"]="application/json",Wt(n,{});let a=i&&i.headers?i.headers:{};return o.headers={...s,...a,...r.headers},o.data=Ht(t,o,e),{url:qt(n),options:o}},socialVerifyStart:async(t,r={})=>{Nt("socialVerifyStart","socialVerifyStartReq",t);const n=new URL("/v2/auth/social/verify/start",Dt);let i;e&&(i=e.baseOptions);const o={method:"POST",...i,...r},s={};await Mt(s,e),await Vt(s,"X-Corbado-ProjectID",e),s["Content-Type"]="application/json",Wt(n,{});let a=i&&i.headers?i.headers:{};return o.headers={...s,...a,...r.headers},o.data=Ht(t,o,e),{url:qt(n),options:o}},usernameCollect:async(t,r={})=>{Nt("usernameCollect","usernameCollectReq",t);const n=new URL("/v2/auth/username/collect",Dt);let i;e&&(i=e.baseOptions);const o={method:"POST",...i,...r},s={};await Mt(s,e),await Vt(s,"X-Corbado-ProjectID",e),s["Content-Type"]="application/json",Wt(n,{});let a=i&&i.headers?i.headers:{};return o.headers={...s,...a,...r.headers},o.data=Ht(t,o,e),{url:qt(n),options:o}}}}(e);return{async blockSkip(r){const n=await t.blockSkip(r);return Xt(n,jt,Lt,e)},async identifierUpdate(r,n){const i=await t.identifierUpdate(r,n);return Xt(i,jt,Lt,e)},async identifierVerifyFinish(r,n){const i=await t.identifierVerifyFinish(r,n);return Xt(i,jt,Lt,e)},async identifierVerifyStart(r,n){const i=await t.identifierVerifyStart(r,n);return Xt(i,jt,Lt,e)},async identifierVerifyStatus(r){const n=await t.identifierVerifyStatus(r);return Xt(n,jt,Lt,e)},async loginInit(r,n){const i=await t.loginInit(r,n);return Xt(i,jt,Lt,e)},async passkeyAppendFinish(r,n){const i=await t.passkeyAppendFinish(r,n);return Xt(i,jt,Lt,e)},async passkeyAppendStart(r,n){const i=await t.passkeyAppendStart(r,n);return Xt(i,jt,Lt,e)},async passkeyLoginFinish(r,n){const i=await t.passkeyLoginFinish(r,n);return Xt(i,jt,Lt,e)},async passkeyLoginStart(r,n){const i=await t.passkeyLoginStart(r,n);return Xt(i,jt,Lt,e)},async passkeyMediationFinish(r,n){const i=await t.passkeyMediationFinish(r,n);return Xt(i,jt,Lt,e)},async phoneCollect(r,n){const i=await t.phoneCollect(r,n);return Xt(i,jt,Lt,e)},async processComplete(r){const n=await t.processComplete(r);return Xt(n,jt,Lt,e)},async processGet(r,n){const i=await t.processGet(r,n);return Xt(i,jt,Lt,e)},async processInit(r,n){const i=await t.processInit(r,n);return Xt(i,jt,Lt,e)},async processReset(r){const n=await t.processReset(r);return Xt(n,jt,Lt,e)},async signupInit(r,n){const i=await t.signupInit(r,n);return Xt(i,jt,Lt,e)},async socialVerifyCallback(r){const n=await t.socialVerifyCallback(r);return Xt(n,jt,Lt,e)},async socialVerifyFinish(r,n){const i=await t.socialVerifyFinish(r,n);return Xt(i,jt,Lt,e)},async socialVerifyStart(r,n){const i=await t.socialVerifyStart(r,n);return Xt(i,jt,Lt,e)},async usernameCollect(r,n){const i=await t.usernameCollect(r,n);return Xt(i,jt,Lt,e)}}};class er extends _t{blockSkip(e){return Zt(this.configuration).blockSkip(e).then((e=>e(this.axios,this.basePath)))}identifierUpdate(e,t){return Zt(this.configuration).identifierUpdate(e,t).then((e=>e(this.axios,this.basePath)))}identifierVerifyFinish(e,t){return Zt(this.configuration).identifierVerifyFinish(e,t).then((e=>e(this.axios,this.basePath)))}identifierVerifyStart(e,t){return Zt(this.configuration).identifierVerifyStart(e,t).then((e=>e(this.axios,this.basePath)))}identifierVerifyStatus(e){return Zt(this.configuration).identifierVerifyStatus(e).then((e=>e(this.axios,this.basePath)))}loginInit(e,t){return Zt(this.configuration).loginInit(e,t).then((e=>e(this.axios,this.basePath)))}passkeyAppendFinish(e,t){return Zt(this.configuration).passkeyAppendFinish(e,t).then((e=>e(this.axios,this.basePath)))}passkeyAppendStart(e,t){return Zt(this.configuration).passkeyAppendStart(e,t).then((e=>e(this.axios,this.basePath)))}passkeyLoginFinish(e,t){return Zt(this.configuration).passkeyLoginFinish(e,t).then((e=>e(this.axios,this.basePath)))}passkeyLoginStart(e,t){return Zt(this.configuration).passkeyLoginStart(e,t).then((e=>e(this.axios,this.basePath)))}passkeyMediationFinish(e,t){return Zt(this.configuration).passkeyMediationFinish(e,t).then((e=>e(this.axios,this.basePath)))}phoneCollect(e,t){return Zt(this.configuration).phoneCollect(e,t).then((e=>e(this.axios,this.basePath)))}processComplete(e){return Zt(this.configuration).processComplete(e).then((e=>e(this.axios,this.basePath)))}processGet(e,t){return Zt(this.configuration).processGet(e,t).then((e=>e(this.axios,this.basePath)))}processInit(e,t){return Zt(this.configuration).processInit(e,t).then((e=>e(this.axios,this.basePath)))}processReset(e){return Zt(this.configuration).processReset(e).then((e=>e(this.axios,this.basePath)))}signupInit(e,t){return Zt(this.configuration).signupInit(e,t).then((e=>e(this.axios,this.basePath)))}socialVerifyCallback(e){return Zt(this.configuration).socialVerifyCallback(e).then((e=>e(this.axios,this.basePath)))}socialVerifyFinish(e,t){return Zt(this.configuration).socialVerifyFinish(e,t).then((e=>e(this.axios,this.basePath)))}socialVerifyStart(e,t){return Zt(this.configuration).socialVerifyStart(e,t).then((e=>e(this.axios,this.basePath)))}usernameCollect(e,t){return Zt(this.configuration).usernameCollect(e,t).then((e=>e(this.axios,this.basePath)))}}class tr extends _t{getSessionConfig(e){return function(e){const t=function(e){return{getSessionConfig:async(t={})=>{const r=new URL("/v2/session-config",Dt);let n;e&&(n=e.baseOptions);const i={method:"GET",...n,...t},o={};await Mt(o,e),await Vt(o,"X-Corbado-ProjectID",e),Wt(r,{});let s=n&&n.headers?n.headers:{};return i.headers={...o,...s,...t.headers},{url:qt(r),options:i}}}}(e);return{async getSessionConfig(r){const n=await t.getSessionConfig(r);return Xt(n,jt,Lt,e)}}}(this.configuration).getSessionConfig(e).then((e=>e(this.axios,this.basePath)))}}const rr=function(e){const t=function(e){return{currentUserGet:async(t={})=>{const r=new URL("/v2/me",Dt);let n;e&&(n=e.baseOptions);const i={method:"GET",...n,...t},o={};await Mt(o,e),await Vt(o,"X-Corbado-ProjectID",e),Wt(r,{});let s=n&&n.headers?n.headers:{};return i.headers={...o,...s,...t.headers},{url:qt(r),options:i}},currentUserPasskeyAppendFinish:async(t,r={})=>{Nt("currentUserPasskeyAppendFinish","mePasskeysAppendFinishReq",t);const n=new URL("/v2/me/passkeys/append/finish",Dt);let i;e&&(i=e.baseOptions);const o={method:"POST",...i,...r},s={};await Mt(s,e),await Vt(s,"X-Corbado-ProjectID",e),s["Content-Type"]="application/json",Wt(n,{});let a=i&&i.headers?i.headers:{};return o.headers={...s,...a,...r.headers},o.data=Ht(t,o,e),{url:qt(n),options:o}},currentUserPasskeyAppendStart:async(t,r={})=>{Nt("currentUserPasskeyAppendStart","mePasskeysAppendStartReq",t);const n=new URL("/v2/me/passkeys/append/start",Dt);let i;e&&(i=e.baseOptions);const o={method:"POST",...i,...r},s={};await Mt(s,e),await Vt(s,"X-Corbado-ProjectID",e),s["Content-Type"]="application/json",Wt(n,{});let a=i&&i.headers?i.headers:{};return o.headers={...s,...a,...r.headers},o.data=Ht(t,o,e),{url:qt(n),options:o}},currentUserPasskeyDelete:async(t,r={})=>{Nt("currentUserPasskeyDelete","credentialID",t);const n="/v2/me/passkeys/{credentialID}".replace("{credentialID}",encodeURIComponent(String(t))),i=new URL(n,Dt);let o;e&&(o=e.baseOptions);const s={method:"DELETE",...o,...r},a={};await Mt(a,e),await Vt(a,"X-Corbado-ProjectID",e),Wt(i,{});let c=o&&o.headers?o.headers:{};return s.headers={...a,...c,...r.headers},{url:qt(i),options:s}},currentUserPasskeyGet:async(t={})=>{const r=new URL("/v2/me/passkeys",Dt);let n;e&&(n=e.baseOptions);const i={method:"GET",...n,...t},o={};await Mt(o,e),await Vt(o,"X-Corbado-ProjectID",e),Wt(r,{});let s=n&&n.headers?n.headers:{};return i.headers={...o,...s,...t.headers},{url:qt(r),options:i}},currentUserSessionLogout:async(t={})=>{const r=new URL("/v2/me/logout",Dt);let n;e&&(n=e.baseOptions);const i={method:"POST",...n,...t},o={};await Mt(o,e),await Vt(o,"X-Corbado-ProjectID",e),Wt(r,{});let s=n&&n.headers?n.headers:{};return i.headers={...o,...s,...t.headers},{url:qt(r),options:i}},currentUserSessionRefresh:async(t={})=>{const r=new URL("/v2/me/refresh",Dt);let n;e&&(n=e.baseOptions);const i={method:"POST",...n,...t},o={};await Mt(o,e),await Vt(o,"X-Corbado-ProjectID",e),Wt(r,{});let s=n&&n.headers?n.headers:{};return i.headers={...o,...s,...t.headers},{url:qt(r),options:i}}}}(e);return{async currentUserGet(r){const n=await t.currentUserGet(r);return Xt(n,jt,Lt,e)},async currentUserPasskeyAppendFinish(r,n){const i=await t.currentUserPasskeyAppendFinish(r,n);return Xt(i,jt,Lt,e)},async currentUserPasskeyAppendStart(r,n){const i=await t.currentUserPasskeyAppendStart(r,n);return Xt(i,jt,Lt,e)},async currentUserPasskeyDelete(r,n){const i=await t.currentUserPasskeyDelete(r,n);return Xt(i,jt,Lt,e)},async currentUserPasskeyGet(r){const n=await t.currentUserPasskeyGet(r);return Xt(n,jt,Lt,e)},async currentUserSessionLogout(r){const n=await t.currentUserSessionLogout(r);return Xt(n,jt,Lt,e)},async currentUserSessionRefresh(r){const n=await t.currentUserSessionRefresh(r);return Xt(n,jt,Lt,e)}}};class nr extends _t{currentUserGet(e){return rr(this.configuration).currentUserGet(e).then((e=>e(this.axios,this.basePath)))}currentUserPasskeyAppendFinish(e,t){return rr(this.configuration).currentUserPasskeyAppendFinish(e,t).then((e=>e(this.axios,this.basePath)))}currentUserPasskeyAppendStart(e,t){return rr(this.configuration).currentUserPasskeyAppendStart(e,t).then((e=>e(this.axios,this.basePath)))}currentUserPasskeyDelete(e,t){return rr(this.configuration).currentUserPasskeyDelete(e,t).then((e=>e(this.axios,this.basePath)))}currentUserPasskeyGet(e){return rr(this.configuration).currentUserPasskeyGet(e).then((e=>e(this.axios,this.basePath)))}currentUserSessionLogout(e){return rr(this.configuration).currentUserSessionLogout(e).then((e=>e(this.axios,this.basePath)))}currentUserSessionRefresh(e){return rr(this.configuration).currentUserSessionRefresh(e).then((e=>e(this.axios,this.basePath)))}}const ir="cbo_auth_process";class or{constructor(e,t,r){this.id=e,this.expiresAt=t,this.frontendApiUrl=r}isValid(){return this.expiresAt>Date.now()/1e3}static loadFromStorage(){const e=localStorage.getItem(ir);if(!e)return;const{id:t,expiresAt:r,frontendApiUrl:n}=JSON.parse(e),i=new or(t,r,n);return i.isValid()?i:void 0}persistToStorage(){localStorage.setItem(ir,JSON.stringify({id:this.id,expiresAt:this.expiresAt,frontendApiUrl:this.frontendApiUrl}))}static clearStorage(){localStorage.removeItem(ir)}}class sr{constructor(e,t,r,n,i){this.data=e,this.token=t,this.isNewDevice=r,this.process=n,this.authType=i}static fromURL(e,t,r){console.log("maybeProcess",e,r);const n=JSON.parse(atob(e)),i=n.process,o={alternativeVerificationMethods:[],identifier:n.blockData.identifier,retryNotBefore:n.blockData.retryNotBefore,verificationMethod:n.blockData.verificationMethod,isPostLoginVerification:n.blockData.isPostLoginVerification},s=(null==r?void 0:r.id)!==i.id;let a;a=0===n.authType?$t.Login:$t.Signup;const c=new or(i.id,i.expires,i.frontendApiUrl);return new sr(o,t,s,c,a)}}function ar(e){const t="==".slice(0,(4-e.length%4)%4),r=e.replace(/-/g,"+").replace(/_/g,"/")+t,n=atob(r),i=new ArrayBuffer(n.length),o=new Uint8Array(i);for(let e=0;e<n.length;e++)o[e]=n.charCodeAt(e);return i}function cr(e){const t=new Uint8Array(e);let r="";for(const e of t)r+=String.fromCharCode(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var lr="copy",ur="convert";function hr(e,t,r){if(t===lr)return r;if(t===ur)return e(r);if(t instanceof Array)return r.map((r=>hr(e,t[0],r)));if(t instanceof Object){const n={};for(const[i,o]of Object.entries(t)){if(o.derive){const e=o.derive(r);void 0!==e&&(r[i]=e)}if(i in r)null!=r[i]?n[i]=hr(e,o.schema,r[i]):n[i]=null;else if(o.required)throw new Error(`Missing key: ${i}`)}return n}}function pr(e,t){return{required:!0,schema:e,derive:t}}function dr(e){return{required:!0,schema:e}}function fr(e){return{required:!1,schema:e}}var yr,wr={type:dr(lr),id:dr(ur),transports:fr(lr)},mr={appid:fr(lr),appidExclude:fr(lr),credProps:fr(lr)},gr={appid:fr(lr),appidExclude:fr(lr),credProps:fr(lr)},vr={publicKey:dr({rp:dr(lr),user:dr({id:dr(ur),name:dr(lr),displayName:dr(lr)}),challenge:dr(ur),pubKeyCredParams:dr(lr),timeout:fr(lr),excludeCredentials:fr([wr]),authenticatorSelection:fr(lr),attestation:fr(lr),extensions:fr(mr)}),signal:fr(lr)},br={type:dr(lr),id:dr(lr),rawId:dr(ur),authenticatorAttachment:fr(lr),response:dr({clientDataJSON:dr(ur),attestationObject:dr(ur),transports:pr(lr,(e=>{var t;return(null==(t=e.getTransports)?void 0:t.call(e))||[]}))}),clientExtensionResults:pr(gr,(e=>e.getClientExtensionResults()))},Sr={mediation:fr(lr),publicKey:dr({challenge:dr(ur),timeout:fr(lr),rpId:fr(lr),allowCredentials:fr([wr]),userVerification:fr(lr),extensions:fr(mr)}),signal:fr(lr)},kr={type:dr(lr),id:dr(lr),rawId:dr(ur),authenticatorAttachment:fr(lr),response:dr({clientDataJSON:dr(ur),authenticatorData:dr(ur),signature:dr(ur),userHandle:dr(ur)}),clientExtensionResults:pr(gr,(e=>e.getClientExtensionResults()))};const Er="cbo_client_handle";class Pr{constructor(){yr.set(this,void 0)}async createPasskey(e){try{const t=this.abortOngoingOperation(),r=JSON.parse(e);r.signal=t.signal,p(this,yr,t,"f");const n=await async function(e){return function(e){return hr(cr,br,e)}(await navigator.credentials.create(function(e){return hr(ar,vr,e)}(e)))}(r),i=JSON.stringify(n);return B(i)}catch(e){return e instanceof DOMException?M(w.fromDOMException(e)):M(w.fromUnknownFrontendError(e))}}async login(e,t,r=!1){try{const n=this.abortOngoingOperation(),i=JSON.parse(e);if(r&&H(i))return M(w.onlyHybridPasskeyAvailable());i.signal=n.signal,p(this,yr,n,"f"),t&&(i.mediation="conditional");const o=await async function(e){return function(e){return hr(cr,kr,e)}(await navigator.credentials.get(function(e){return hr(ar,Sr,e)}(e)))}(i),s=JSON.stringify(o);return B(s)}catch(e){return e instanceof DOMException?M(w.fromDOMException(e)):M(w.fromUnknownFrontendError(e))}}static async doesBrowserSupportPasskeys(){return window.PublicKeyCredential&&await window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()}static async doesBrowserSupportConditionalUI(){return window.PublicKeyCredential&&await window.PublicKeyCredential.isConditionalMediationAvailable()}static async canUseBluetooth(){try{return!!await navigator.bluetooth.getAvailability()}catch(e){return y().debug("Error checking bluetooth availability",e),!1}}static getClientHandle(){return localStorage.getItem(Er)}static async getHighEntropyValues(){try{if(!navigator.userAgentData)return;const e=await navigator.userAgentData.getHighEntropyValues(["platformVersion"]),t=e.platform,r=e.mobile,n=e.platformVersion;if(!t||void 0===r||!n)return;return{platform:t,mobile:r,platformVersion:n}}catch(e){return}}static setClientHandle(e){localStorage.setItem(Er,e)}abortOngoingOperation(){return h(this,yr,"f")&&h(this,yr,"f").abort(),new AbortController}}var Or,Cr,Ar,Tr,xr,Ur,Rr,jr,Ir,Lr,_r,Fr,Dr,Nr,Vr;yr=new WeakMap;const Mr="cbo_passkey_append_shown",Br="cbo_last_identifier";class Wr{constructor(e,t=3e4,r,n){Or.add(this),Cr.set(this,new er),Ar.set(this,void 0),Tr.set(this,void 0),xr.set(this,void 0),Ur.set(this,void 0),Rr.set(this,void 0),this.dropLastIdentifier=e=>{(null==e?void 0:e.operationType)&&e?localStorage.setItem(Br,JSON.stringify({value:e.identifierValue,type:e.identifierType})):localStorage.removeItem(Br)},this.getLastIdentifier=()=>{const e=localStorage.getItem(Br);return e?JSON.parse(e):void 0},Vr.set(this,(()=>{const e=[];return h(this,Ur,"f")&&e.push("preview"),e.join(",")})),p(this,Tr,e,"f"),p(this,xr,t,"f"),p(this,Rr,n,"f"),p(this,Ar,new Pr,"f"),p(this,Ur,r,"f"),h(this,Or,"m",Lr).call(this)}async init(e,t,r=!1){r?y().setLevel("debug"):y().setLevel("error");const n=or.loadFromStorage();if(!n)return console.log("process is missing"),h(this,Or,"m",Ir).call(this,e,t);h(this,Or,"m",Lr).call(this,n);const i=await h(this,Or,"m",Dr).call(this,e,t);if(i.err&&i.val.ignore)return i;if(i.err)return console.log("process has error",i.val),h(this,Or,"m",Ir).call(this,e);const o=i.val.blockBody.block,s=["signup-init","login-init"];if((!t||s.includes(t))&&!s.includes(o))return h(this,Or,"m",Ir).call(this,e,t);const a=function(e){var t,r;switch(e.blockBody.block){case zt.LoginInit:{const r=e.blockBody.data.identifierValue.length>0,n=(null===(t=e.blockBody.data.socialData)||void 0===t?void 0:t.status)!==Kt.Initial;return!r&&!n}case zt.SignupInit:{const t=e.blockBody.data.identifiers.reduce(((e,t)=>e||t.identifier.length>0),!1),n=(null===(r=e.blockBody.data.socialData)||void 0===r?void 0:r.status)!==Kt.Initial;return!t&&!n}default:return!1}}(i.val);return a?(console.log("process is initial"),h(this,Or,"m",Ir).call(this,e,t)):i}clearProcess(){return or.clearStorage()}initEmailVerifyFromUrl(){const e=new URLSearchParams(window.location.search),t=e.get("corbadoEmailLinkID");if(!t)return B(null);const r=e.get("corbadoToken");if(!r)return B(null);try{const e=or.loadFromStorage(),n=sr.fromURL(t,r,e);return h(this,Or,"m",Lr).call(this,n.process),B(n)}catch(e){return M(w.fromUnknownFrontendError(e))}}async wrapWithErr(e){try{const t=await e();return B(t.data)}catch(e){return M(e instanceof w?e:w.fromUnknownFrontendError(e))}}async finishAuthProcess(){return this.wrapWithErr((()=>h(this,Cr,"f").processComplete()))}async resetAuthProcess(){const e=await this.wrapWithErr((()=>h(this,Cr,"f").processReset()));if(e.ok&&e.val.newProcess){const t=new or(e.val.newProcess.token,e.val.newProcess.expiresAt,e.val.common.frontendApiUrl);h(this,Or,"m",Lr).call(this,t),t.persistToStorage()}return e}async initSignup(e,t){return this.wrapWithErr((()=>h(this,Cr,"f").signupInit({identifiers:e,fullName:t})))}async initLogin(e,t){return this.wrapWithErr((()=>h(this,Cr,"f").loginInit({isPhone:t,identifierValue:e})))}async skipBlock(){return this.wrapWithErr((()=>h(this,Cr,"f").blockSkip()))}async startPasskeyAppend(){return this.wrapWithErr((()=>h(this,Cr,"f").passkeyAppendStart({clientInfo:{}})))}async finishPasskeyAppend(e){return this.wrapWithErr((()=>h(this,Cr,"f").passkeyAppendFinish({signedChallenge:e})))}async startPasskeyLogin(){return this.wrapWithErr((()=>h(this,Cr,"f").passkeyLoginStart({})))}async finishPasskeyLogin(e){return this.wrapWithErr((()=>h(this,Cr,"f").passkeyLoginFinish({signedChallenge:e})))}async finishPasskeyMediation(e){return this.wrapWithErr((()=>h(this,Cr,"f").passkeyMediationFinish({signedChallenge:e})))}async startEmailCodeVerification(){return this.wrapWithErr((()=>h(this,Cr,"f").identifierVerifyStart({verificationType:"email-otp",identifierType:"email"})))}async finishEmailCodeVerification(e){return this.wrapWithErr((()=>h(this,Cr,"f").identifierVerifyFinish({verificationType:"email-otp",identifierType:"email",code:e,isNewDevice:!1})))}async startEmailLinkVerification(){return this.wrapWithErr((()=>h(this,Cr,"f").identifierVerifyStart({verificationType:Qt.EmailLink,identifierType:Gt.Email})))}finishEmailLinkVerification(e,t,r){const n={verificationType:Qt.EmailLink,identifierType:Gt.Email,code:t,isNewDevice:r};return this.wrapWithErr((()=>h(this,Cr,"f").identifierVerifyFinish(n,{signal:e.signal})))}getVerificationStatus(){return this.wrapWithErr((()=>h(this,Cr,"f").identifierVerifyStatus()))}async updateEmail(e){return this.wrapWithErr((()=>h(this,Cr,"f").identifierUpdate({identifierType:"email",value:e})))}async updatePhone(e){return this.wrapWithErr((()=>h(this,Cr,"f").identifierUpdate({identifierType:"phone",value:e})))}async updateUsername(e){return this.wrapWithErr((()=>h(this,Cr,"f").identifierUpdate({identifierType:"username",value:e})))}async startPhoneOtpVerification(){return this.wrapWithErr((()=>h(this,Cr,"f").identifierVerifyStart({verificationType:"phone-otp",identifierType:"phone"})))}async finishPhoneOtpVerification(e){return this.wrapWithErr((()=>h(this,Cr,"f").identifierVerifyFinish({verificationType:"phone-otp",identifierType:"phone",code:e,isNewDevice:!1})))}async startSocialVerification(e,t,r){const n=await this.wrapWithErr((()=>h(this,Cr,"f").socialVerifyStart({providerType:e,redirectUrl:t,authType:r})));return n.ok&&n.val.blockBody.data.socialData&&n.val.blockBody.data.socialData.status===Kt.Started&&n.val.blockBody.data.socialData.oauthUrl?(window.location.href=n.val.blockBody.data.socialData.oauthUrl,null):n}finishSocialVerification(e){return this.wrapWithErr((()=>h(this,Cr,"f").socialVerifyFinish({},{signal:e.signal})))}async appendPasskey(){const e=await this.startPasskeyAppend();if(e.err)return e;if(e.val.blockBody.error)return e;const t=await h(this,Ar,"f").createPasskey(e.val.blockBody.data.challenge);return t.err?t:await this.finishPasskeyAppend(t.val)}async loginWithPasskey(e=!1){const t=await this.startPasskeyLogin();if(t.err)return t;if(t.val.blockBody.error)return this.dropLastIdentifier(void 0),t;const r=await h(this,Ar,"f").login(t.val.blockBody.data.challenge,!1,e);return r.err?(this.dropLastIdentifier(void 0),r):await this.finishPasskeyLogin(r.val)}isConditionalUISupported(){return Pr.doesBrowserSupportConditionalUI()}async loginWithPasskeyChallenge(e){const t=await h(this,Ar,"f").login(e,!0);return t.err?t:await this.finishPasskeyMediation(t.val)}dropPasskeyAppendShown(){const e=new Date,t=Math.floor((e.getTime()+60*e.getTimezoneOffset()*1e3)/1e3);localStorage.setItem(Mr,t.toString())}dispose(){h(this,Ar,"f").abortOngoingOperation()}skipPasskeyAppendAfterHybrid(e){const t=e?"true":"false";localStorage.setItem(i,t)}}function Hr(e){return"function"==typeof e}function qr(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Cr=new WeakMap,Ar=new WeakMap,Tr=new WeakMap,xr=new WeakMap,Ur=new WeakMap,Rr=new WeakMap,Vr=new WeakMap,Or=new WeakSet,jr=function(e){const t={"Content-Type":"application/json","X-Corbado-WC-Version":JSON.stringify({name:"web-core",sdkVersion:"2.8.0"})};t["X-Corbado-Flags"]=h(this,Vr,"f").call(this);const r=jt.create({timeout:h(this,xr,"f"),withCredentials:!0,headers:e?{...t,"x-corbado-process-id":e}:t});return r.interceptors.response.use((e=>e),(e=>{console.log("axios error",e);const t=w.fromAxiosError(e);return Promise.reject(t)})),r},Ir=async function(e,t){console.log("initNewAuthProcess");const r=await h(this,Or,"m",_r).call(this,e,t);if(r.err)return r;const n=new or(r.val.token,r.val.expiresAt,r.val.processResponse.common.frontendApiUrl);return h(this,Or,"m",Lr).call(this,n),n.persistToStorage(),B(r.val.processResponse)},Lr=function(e){var t;let r=h(this,Or,"m",Nr).call(this);(null==e?void 0:e.frontendApiUrl)&&(null==e?void 0:e.frontendApiUrl.length)>0&&(r=e.frontendApiUrl);const n=new It({apiKey:h(this,Tr,"f"),basePath:r}),i=h(this,Or,"m",jr).call(this,null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"");p(this,Cr,new er(n,r,i),"f")},_r=async function(e,t){const r=Pr.getClientHandle(),n=localStorage.getItem(Mr);let i=null;n&&(i=parseInt(n,10));const o=await Pr.doesBrowserSupportPasskeys(),s=await h(this,Or,"m",Fr).call(this,e,o,r,i,t);return s.err||s.val.newClientEnvHandle&&Pr.setClientHandle(s.val.newClientEnvHandle),s},Fr=async function(e,t,r,n,o){const s={clientInformation:{bluetoothAvailable:await Pr.canUseBluetooth(),canUsePasskeys:t,clientEnvHandle:null!=r?r:void 0,javaScriptHighEntropy:await Pr.getHighEntropyValues()},passkeyAppendShown:null!=n?n:void 0,preferredBlock:o,optOutOfPasskeyAppendAfterHybrid:"true"===localStorage.getItem(i)};return this.wrapWithErr((()=>h(this,Cr,"f").processInit(s,{signal:e.signal})))},Dr=async function(e,t){return this.wrapWithErr((()=>h(this,Cr,"f").processGet(t,{signal:e.signal})))},Nr=function(){return`https://${h(this,Tr,"f")}.${h(this,Rr,"f")}`};var Xr=qr((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function $r(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var zr=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,r,n,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=c(o),a=s.next();!a.done;a=s.next())a.value.remove(this)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else o.remove(this);var h=this.initialTeardown;if(Hr(h))try{h()}catch(e){i=e instanceof Xr?e.errors:[e]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var d=c(p),f=d.next();!f.done;f=d.next()){var y=f.value;try{Kr(y)}catch(e){i=null!=i?i:[],e instanceof Xr?i=u(u([],l(i)),l(e.errors)):i.push(e)}}}catch(e){r={error:e}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}}if(i)throw new Xr(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)Kr(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&$r(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&$r(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),Jr=zr.EMPTY;function Gr(e){return e instanceof zr||e&&"closed"in e&&Hr(e.remove)&&Hr(e.add)&&Hr(e.unsubscribe)}function Kr(e){Hr(e)?e():e.unsubscribe()}var Yr=null,Qr=null,Zr=void 0,en=!1,tn=!1,rn={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=rn.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,u([e,t],l(r))):setTimeout.apply(void 0,u([e,t],l(r)))},clearTimeout:function(e){var t=rn.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function nn(){}var on=sn("C",void 0,void 0);function sn(e,t,r){return{kind:e,value:t,error:r}}var an=null;function cn(e){if(en){var t=!an;if(t&&(an={errorThrown:!1,error:null}),e(),t){var r=an,n=r.errorThrown,i=r.error;if(an=null,n)throw i}}else e()}var ln=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,Gr(t)&&t.add(r)):r.destination=wn,r}return a(t,e),t.create=function(e,t,r){return new dn(e,t,r)},t.prototype.next=function(e){this.isStopped?yn(function(e){return sn("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?yn(sn("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?yn(on,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(zr),un=Function.prototype.bind;function hn(e,t){return un.call(e,t)}var pn=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){fn(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){fn(e)}else fn(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){fn(e)}},e}(),dn=function(e){function t(t,r,n){var i,o,s=e.call(this)||this;return Hr(t)||!t?i={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:s&&tn?((o=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},i={next:t.next&&hn(t.next,o),error:t.error&&hn(t.error,o),complete:t.complete&&hn(t.complete,o)}):i=t,s.destination=new pn(i),s}return a(t,e),t}(ln);function fn(e){var t;en?(t=e,en&&an&&(an.errorThrown=!0,an.error=t)):function(e){rn.setTimeout((function(){if(!Yr)throw e;Yr(e)}))}(e)}function yn(e,t){var r=Qr;r&&rn.setTimeout((function(){return r(e,t)}))}var wn={closed:!0,next:nn,error:function(e){throw e},complete:nn},mn="function"==typeof Symbol&&Symbol.observable||"@@observable";function gn(e){return e}var vn=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,i=this,o=(n=e)&&n instanceof ln||function(e){return e&&Hr(e.next)&&Hr(e.error)&&Hr(e.complete)}(n)&&Gr(n)?e:new dn(e,t,r);return cn((function(){var e=i,t=e.operator,r=e.source;o.add(t?t.call(o,r):r?i._subscribe(o):i._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=bn(t))((function(t,n){var i=new dn({next:function(t){try{e(t)}catch(e){n(e),i.unsubscribe()}},error:n,complete:t});r.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[mn]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(r=e).length?gn:1===r.length?r[0]:function(e){return r.reduce((function(e,t){return t(e)}),e)})(this);var r},e.prototype.toPromise=function(e){var t=this;return new(e=bn(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function bn(e){var t;return null!==(t=null!=e?e:Zr)&&void 0!==t?t:Promise}var Sn,kn,En,Pn,On,Cn,An,Tn,xn,Un,Rn,jn,In,Ln,_n,Fn,Dn,Nn,Vn,Mn,Bn,Wn,Hn,qn,Xn,$n,zn,Jn,Gn,Kn,Yn,Qn,Zn,ei,ti,ri,ni,ii,oi,si=qr((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),ai=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return a(t,e),t.prototype.lift=function(e){var t=new ci(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new si},t.prototype.next=function(e){var t=this;cn((function(){var r,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=c(t.currentObservers),o=i.next();!o.done;o=i.next())o.value.next(e)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}}))},t.prototype.error=function(e){var t=this;cn((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}}))},t.prototype.complete=function(){var e=this;cn((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this,n=r.hasError,i=r.isStopped,o=r.observers;return n||i?Jr:(this.currentObservers=null,o.push(e),new zr((function(){t.currentObservers=null,$r(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t.thrownError,i=t.isStopped;r?e.error(n):i&&e.complete()},t.prototype.asObservable=function(){var e=new vn;return e.source=this,e},t.create=function(e,t){return new ci(e,t)},t}(vn),ci=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return a(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Jr},t}(ai),li=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){var e=this,t=e.hasError,r=e.thrownError,n=e._value;if(t)throw r;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(ai);class ui{constructor(e){Sn.set(this,void 0),kn.set(this,void 0),p(this,Sn,e,"f");const t=e.split(".");p(this,kn,JSON.parse(atob(t[1])),"f")}get value(){return h(this,Sn,"f")}get user(){return h(this,kn,"f")}isValidForXMoreSeconds(e){const t=(new Date).getTime()/1e3;return h(this,kn,"f").exp>t+e}toString(){return h(this,Sn,"f")}}Sn=new WeakMap,kn=new WeakMap;const hi="cbo_short_session",pi="cbo_long_session";class di{constructor(e,t,r,n){En.add(this),On.set(this,new nr),Cn.set(this,void 0),An.set(this,void 0),Tn.set(this,void 0),xn.set(this,void 0),Un.set(this,void 0),Rn.set(this,void 0),jn.set(this,void 0),In.set(this,void 0),Ln.set(this,void 0),_n.set(this,new li(void 0)),Fn.set(this,new li(void 0)),Dn.set(this,new li(o.LoggedOut)),Zn.set(this,(e=>{const t=h(this,_n,"f").value;t!==e&&((null==t?void 0:t.email)===(null==e?void 0:e.email)&&(null==t?void 0:t.name)===(null==e?void 0:e.name)&&(null==t?void 0:t.orig)===(null==e?void 0:e.orig)&&(null==t?void 0:t.sub)===(null==e?void 0:e.sub)||h(this,_n,"f").next(e))})),ei.set(this,(e=>{h(this,Dn,"f").value!==e&&h(this,Dn,"f").next(e)})),ti.set(this,(()=>{if(!h(this,Rn,"f"))throw w.missingInit();return h(this,Rn,"f")})),ri.set(this,(()=>{const e=h(this,ti,"f").call(this).shortSessionCookieConfig;if(!e)throw w.invalidConfig();return e})),ni.set(this,(async()=>{const e=new It({apiKey:h(this,xn,"f")}),t=h(this,En,"m",Mn).call(this),r=new tr(e,h(this,En,"m",ii).call(this),t);return V.wrapAsync((async()=>(await r.getSessionConfig()).data))})),oi.set(this,(()=>{const e=[];return h(this,Tn,"f")&&e.push("preview"),e.join(",")})),p(this,xn,e,"f"),p(this,Un,n,"f"),p(this,Cn,new Pr,"f"),p(this,In,void 0,"f"),p(this,An,t,"f"),p(this,Tn,r,"f")}async init(){const e=await h(this,ni,"f").call(this);return e.err?e.val:(p(this,Rn,e.val,"f"),p(this,In,h(Pn,Pn,"m",qn).call(Pn),"f"),p(this,jn,h(Pn,Pn,"m",Bn).call(Pn),"f"),h(this,jn,"f")&&h(this,jn,"f").isValidForXMoreSeconds(0)?(y().debug("emit shortsession",h(this,jn,"f")),h(this,En,"m",Nn).call(this,h(this,jn,"f"))):await h(this,En,"m",Kn).call(this),h(this,En,"m",Vn).call(this,h(this,In,"f")),p(this,Ln,setInterval((()=>{h(this,En,"m",Kn).call(this)}),1e4),"f"),document.addEventListener("visibilitychange",(()=>{h(this,En,"m",Qn).call(this)})),null)}get shortSession(){return h(this,jn,"f")}getUser(){if(!h(this,jn,"f"))return;const e=h(this,jn,"f").value.split(".");return JSON.parse(atob(e[1]))}get userChanges(){return h(this,_n,"f")}get shortSessionChanges(){return h(this,Fn,"f")}get authStateChanges(){return h(this,Dn,"f")}dispose(){h(this,Cn,"f").abortOngoingOperation()}async getFullUser(e){return this.wrapWithErr((async()=>h(this,On,"f").currentUserGet({signal:e.signal})))}async appendPasskey(){const e=await Pr.doesBrowserSupportPasskeys(),t=Pr.getClientHandle(),r=await h(this,On,"f").currentUserPasskeyAppendStart({clientInformation:{bluetoothAvailable:await Pr.canUseBluetooth(),canUsePasskeys:e,clientEnvHandle:null!=t?t:void 0,javaScriptHighEntropy:await Pr.getHighEntropyValues()}});if(r.data.newClientEnvHandle&&Pr.setClientHandle(r.data.newClientEnvHandle),r.data.appendNotAllowedReason)switch(r.data.appendNotAllowedReason){case"passkey_already_exists":return M(new b);case"passkeys_not_supported":return M(new S);default:return M(w.ignore())}const n=await h(this,Cn,"f").createPasskey(r.data.attestationOptions);return n.err?n:(await h(this,On,"f").currentUserPasskeyAppendFinish({attestationResponse:n.val,clientInformation:{bluetoothAvailable:await Pr.canUseBluetooth(),canUsePasskeys:e,clientEnvHandle:null!=t?t:void 0,javaScriptHighEntropy:await Pr.getHighEntropyValues()}}),B(void 0))}async passkeyList(e){return this.wrapWithErr((async()=>h(this,On,"f").currentUserPasskeyGet({signal:e.signal})))}async passkeyDelete(e){return V.wrapAsync((async()=>{await h(this,On,"f").currentUserPasskeyDelete(e)}))}async logout(){y().debug("logging out user"),await V.wrapAsync((async()=>{await h(this,On,"f").currentUserSessionLogout({})})),this.clear(),h(this,En,"m",Nn).call(this,void 0)}setSession(e,t){const r=new ui(e);h(this,En,"m",Xn).call(this,r),h(this,En,"m",Vn).call(this,null!=t?t:""),h(this,En,"m",Nn).call(this,r),h(this,En,"m",Gn).call(this,t)}clear(){h(this,En,"m",$n).call(this),h(this,En,"m",Hn).call(this),h(this,Ln,"f")&&clearInterval(h(this,Ln,"f"))}async wrapWithErr(e){try{const t=await e();return B(t.data)}catch(e){return M(e instanceof w?e:w.fromUnknownFrontendError(e))}}}var fi,yi,wi,mi,gi;Pn=di,On=new WeakMap,Cn=new WeakMap,An=new WeakMap,Tn=new WeakMap,xn=new WeakMap,Un=new WeakMap,Rn=new WeakMap,jn=new WeakMap,In=new WeakMap,Ln=new WeakMap,_n=new WeakMap,Fn=new WeakMap,Dn=new WeakMap,Zn=new WeakMap,ei=new WeakMap,ti=new WeakMap,ri=new WeakMap,ni=new WeakMap,oi=new WeakMap,En=new WeakSet,Nn=function(e){const t=this.getUser();t&&e?(h(this,Fn,"f").next(e.value),h(this,ei,"f").call(this,o.LoggedIn),h(this,Zn,"f").call(this,t)):(console.log("user is logged out",t,e),h(this,Fn,"f").next(void 0),h(this,ei,"f").call(this,o.LoggedOut),h(this,Zn,"f").call(this,void 0))},Vn=function(e){let t=h(this,ti,"f").call(this).frontendApiUrl;t&&0!==t.length||(t=h(this,En,"m",ii).call(this));const r=new It({apiKey:h(this,xn,"f"),basePath:t}),n=h(this,En,"m",Mn).call(this,e);p(this,On,new nr(r,t,n),"f")},Mn=function(e){const t={"Content-Type":"application/json","X-Corbado-WC-Version":JSON.stringify({name:"web-core",sdkVersion:"0.0.0"}),"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"};let r;return t["X-Corbado-Flags"]=h(this,oi,"f").call(this),r=e?jt.create({withCredentials:!0,headers:{...t,Authorization:`Bearer ${e}`}}):jt.create({withCredentials:!0}),r.interceptors.response.use((e=>e),(e=>{const t=w.fromAxiosError(e);return y().warn("error",t),Promise.reject(t)})),r},Bn=function(){const e=localStorage.getItem(hi);if(e)return new ui(e);const t=h(this,Pn,"m",Wn).call(this,hi);return t?new ui(t):void 0},Wn=function(e){const t=new RegExp(`(^| )${e}=([^;]+)`),r=document.cookie.match(t);if(r)return r[2]},Hn=function(){localStorage.removeItem(pi),p(this,In,"","f")},qn=function(){var e;return null!==(e=localStorage.getItem(pi))&&void 0!==e?e:""},Xn=function(e){if(localStorage.setItem(hi,e.toString()),p(this,jn,e,"f"),h(this,An,"f")){const t=h(this,ri,"f").call(this);document.cookie=h(this,En,"m",zn).call(this,t,e)}},$n=function(){if(localStorage.removeItem(hi),p(this,jn,void 0,"f"),h(this,An,"f")){const e=h(this,ri,"f").call(this);document.cookie=h(this,En,"m",Jn).call(this,e)}},zn=function(e,t){const r=new Date(Date.now()+1e3*e.lifetimeSeconds).toUTCString();return`${hi}=${t}; domain=${e.domain}; secure=${e.secure}; sameSite=${e.sameSite}; path=${e.path}; expires=${r}`},Jn=function(e){return`${hi}=; domain=${e.domain}; secure=${e.secure}; sameSite=${e.sameSite}; path=${e.path}; expires=${(new Date).toUTCString()}`},Gn=function(e){e&&(localStorage.setItem(pi,e),p(this,In,e,"f"))},Kn=async function(){h(this,jn,"f")?(h(this,jn,"f").isValidForXMoreSeconds(60)||await h(this,En,"m",Yn).call(this),y().debug("no refresh, no refresh, token still valid")):y().debug("session refresh: no refresh, user not logged in")},Yn=async function(){y().debug("session refresh: starting refresh");try{const e={headers:{Authorization:`Bearer ${h(this,In,"f")}`}},t=await h(this,On,"f").currentUserSessionRefresh(e);if(200!==t.status)return void y().warn(`refresh error, status code: ${t.status}`);if(!t.data.shortSession)return void y().warn("refresh error, missing short session");this.setSession(t.data.shortSession,void 0)}catch(e){y().warn(e),await this.logout()}},Qn=function(){if(document.hidden)y().debug("session refresh: no refresh, page is hidden");else try{h(this,En,"m",Kn).call(this)}catch(e){y().error(e)}},ii=function(){return`https://${h(this,xn,"f")}.${h(this,Un,"f")}`};class vi{constructor(e){fi.add(this),yi.set(this,void 0),wi.set(this,void 0),mi.set(this,void 0);const{projectId:r,apiTimeout:n=t,frontendApiUrlSuffix:i="frontendapi.corbado.io",setShortSessionCookie:o=!1,isPreviewMode:s=!1}=e;p(this,mi,r,"f"),p(this,yi,new Wr(h(this,mi,"f"),n,s,i),"f"),p(this,wi,new di(h(this,mi,"f"),o,s,i),"f")}get authProcessService(){return h(this,yi,"f")}get sessionService(){return h(this,wi,"f")}async init(){return h(this,fi,"m",gi).call(this,h(this,mi,"f"))?(await h(this,wi,"f").init(),B(void 0)):M(new g("Invalid project ID"))}dispose(){h(this,yi,"f").dispose(),h(this,wi,"f").dispose()}}yi=new WeakMap,wi=new WeakMap,mi=new WeakMap,fi=new WeakSet,gi=function(e){return/^pro-\d+$/.test(e)}})();var i=n.jq,o=n.Gr,s=n.kH,a=n.CO,c=n.dL,l=n.RI,u=n.Xy,h=n.rI,p=n.z3,d=n.lH,f=n.bu,y=n.zT,w=n.CU,m=n.EE,g=n.xW,v=n.nJ,b=n.X1,S=n.o,k=n.Ck,E=n.X$,P=n.lI,O=n.xo,C=n.MW,A=n._S,T=n.Nq,x=n.Ko,U=n.eA,R=n.k5,j=n.Rp,I=n.kz,L=n.aH,_=n.Ir,F=n.R;export{i as AuthState,o as AuthType,s as BlockType,a as ConditionalUiNotSupportedError,c as ConditionalUiUnconfirmedCredential,l as ContinueOnOtherDeviceReasonEnum,u as CorbadoApp,h as CorbadoError,p as EmailVerifyFromUrl,d as InvalidEmailError,f as InvalidFullnameError,y as InvalidOtpInputError,w as InvalidPasskeyError,m as InvalidTokenInputError,g as LoginIdentifierType,v as NoPasskeyAvailableError,b as NonRecoverableError,S as OnlyHybridPasskeyAvailableError,k as PasskeyAlreadyExistsError,E as PasskeyChallengeCancelledError,P as PasskeysNotSupported,O as ProcessNotFound,C as RecoverableError,A as SocialDataStatusEnum,T as SocialProviderType,x as UnknownError,U as UnknownUserError,R as UserAlreadyExistsError,j as VerificationMethod,I as checkIfOnlyHybridPasskeysAvailable,L as defaultTimeout,_ as getEmailLinkToken,F as skipPasskeyAppendAfterHybridKey};
//# sourceMappingURL=index.js.map