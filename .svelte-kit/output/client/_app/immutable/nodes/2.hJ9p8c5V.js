import{s as ue,n as X,r as fe,o as ve}from"../chunks/scheduler.DLmczG9q.js";import{S as he,i as pe,s as y,e as l,t as de,n as me,f,b,c as n,a as g,g as T,d as ce,h as r,j as M,k as Y,l as e,o as Z,p as _e}from"../chunks/index.D1jLZ_gR.js";/* empty css                    */import{u as ge}from"../chunks/user.4x8wS_oe.js";import{g as Q}from"../chunks/entry.kSduwkpk.js";import{a as ye}from"../chunks/appwrite.pQKXoLbM.js";function oe(w){let u,t,s,i,d="Close",h,C;return{c(){u=l("div"),t=l("div"),s=de(`Please fill all the fields to continue
                    `),i=l("button"),i.textContent=d,this.h()},l(_){u=n(_,"DIV",{class:!0});var a=g(u);t=n(a,"DIV",{class:!0,role:!0,"aria-modal":!0});var o=g(t);s=ce(o,`Please fill all the fields to continue
                    `),i=n(o,"BUTTON",{"data-svelte-h":!0}),T(i)!=="svelte-1f187om"&&(i.textContent=d),o.forEach(f),a.forEach(f),this.h()},h(){r(t,"class","dialog"),r(t,"role","dialog"),r(t,"aria-modal","true"),r(u,"class","dialog-overlay")},m(_,a){Y(_,u,a),e(u,t),e(t,s),e(t,i),h||(C=Z(i,"click",w[3]),h=!0)},p:X,d(_){_&&f(u),h=!1,C()}}}function be(w){let u,t,s,i,d,h,C='<h2 class="a-3--x">Secure Messenger +</h2> <p class="a-3--y">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</p>',_,a,o,S="Login with Magic URL",O,v,U='<hr style="width: 35%;"/> or <hr style="width: 35%;"/>',N,p,I,$='<input placeholder="Email address" type="email" class="app-input--email" draggable="false" id="app-uemail" name="email" autocomplete="off" spellcheck="false"/>',R,V,ee='<input type="password" placeholder="Enter Password" name="password" class="app-input--password" minlength="8"/>',F,H,te='<div class="a-3-al--left"><a href="/register">New here? Register</a></div><div class="a-3-al--right"><a href="/forgot">Forgot Password?</a></div>',q,D,A,G,x,ae='<p class="app-ftrnt"></p>',K,P,W,k,J,se,c=w[0]&&oe(w);return{c(){u=y(),t=l("div"),s=l("div"),i=l("div"),d=l("div"),h=l("div"),h.innerHTML=C,_=y(),a=l("div"),o=l("button"),o.textContent=S,O=y(),v=l("div"),v.innerHTML=U,N=y(),p=l("form"),I=l("div"),I.innerHTML=$,R=y(),V=l("div"),V.innerHTML=ee,F=y(),H=l("div"),H.innerHTML=te,q=y(),D=l("button"),A=de("Continue"),G=y(),x=l("div"),x.innerHTML=ae,K=y(),P=l("div"),W=y(),k=l("div"),c&&c.c(),this.h()},l(m){me("svelte-1bz4g8c",document.head).forEach(f),u=b(m),t=n(m,"DIV",{class:!0});var le=g(t);s=n(le,"DIV",{class:!0});var z=g(s);i=n(z,"DIV",{class:!0});var ne=g(i);d=n(ne,"DIV",{});var E=g(d);h=n(E,"DIV",{"data-svelte-h":!0}),T(h)!=="svelte-1wxxvn8"&&(h.innerHTML=C),_=b(E),a=n(E,"DIV",{class:!0,style:!0});var B=g(a);o=n(B,"BUTTON",{type:!0,id:!0,"data-svelte-h":!0}),T(o)!=="svelte-1rj8vcz"&&(o.textContent=S),O=b(B),v=n(B,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),T(v)!=="svelte-1rdlecs"&&(v.innerHTML=U),B.forEach(f),N=b(E),p=n(E,"FORM",{});var L=g(p);I=n(L,"DIV",{class:!0,"data-svelte-h":!0}),T(I)!=="svelte-1h4aumb"&&(I.innerHTML=$),R=b(L),V=n(L,"DIV",{class:!0,"data-svelte-h":!0}),T(V)!=="svelte-q165t6"&&(V.innerHTML=ee),F=b(L),H=n(L,"DIV",{class:!0,"data-svelte-h":!0}),T(H)!=="svelte-1g8ncdw"&&(H.innerHTML=te),q=b(L),D=n(L,"BUTTON",{class:!0,type:!0});var ie=g(D);A=ce(ie,"Continue"),ie.forEach(f),L.forEach(f),G=b(E),x=n(E,"DIV",{style:!0,"data-svelte-h":!0}),T(x)!=="svelte-883ser"&&(x.innerHTML=ae),E.forEach(f),ne.forEach(f),K=b(z),P=n(z,"DIV",{class:!0}),g(P).forEach(f),W=b(z),k=n(z,"DIV",{class:!0});var re=g(k);c&&c.l(re),re.forEach(f),z.forEach(f),le.forEach(f),this.h()},h(){document.title="Secure Messenger +",r(o,"type","button"),r(o,"id","app-submit--signInWithGoogleAuth"),r(v,"class","a-3--divider"),M(v,"display","flex"),M(v,"justify-content","center"),M(v,"width","100%"),M(v,"font-size","12px"),r(a,"class","a-google__auth"),M(a,"margin-bottom","20px"),r(I,"class","a-3--z"),r(V,"class","a-3--z"),r(H,"class","a-3--alpha"),r(D,"class","a-3--submitBtn"),r(D,"type","submit"),D.disabled=w[1],M(x,"display","flex"),M(x,"justify-content","center"),M(x,"margin-top","-10px"),r(i,"class","a-2--x"),r(P,"class","a-2--y"),r(k,"class","a-4"),r(s,"class","a-1 0-x"),r(t,"class","a-0")},m(m,j){Y(m,u,j),Y(m,t,j),e(t,s),e(s,i),e(i,d),e(d,h),e(d,_),e(d,a),e(a,o),e(a,O),e(a,v),e(d,N),e(d,p),e(p,I),e(p,R),e(p,V),e(p,F),e(p,H),e(p,q),e(p,D),e(D,A),e(d,G),e(d,x),e(s,K),e(s,P),e(s,W),e(s,k),c&&c.m(k,null),J||(se=[Z(o,"click",w[4]),Z(p,"submit",_e(w[2]))],J=!0)},p(m,[j]){j&2&&(D.disabled=m[1]),m[0]?c?c.p(m,j):(c=oe(m),c.c(),c.m(k,null)):c&&(c.d(1),c=null)},i:X,o:X,d(m){m&&(f(u),f(t)),c&&c.d(),J=!1,fe(se)}}}function we(w,u,t){let s=!1,i=!1;const d=async a=>{a.preventDefault();const o=a.target;t(1,i=!0);const S=Object.fromEntries(new FormData(o).entries()),{email:O,password:v}=S;if(!O||!v){t(0,s=!0);return}try{await ge.login(O,v),console.clear(),Q("/chat")}catch(U){alert(U),t(0,s=!0)}finally{t(1,i=!1)}};function h(){t(0,s=!1)}async function C(){try{await ye.get()&&Q("/chat")}catch{}}function _(){Q("/magic-url")}return ve(()=>{C();function a(o){o.key==="Escape"&&h()}return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}}),[s,i,d,h,_]}class Ce extends he{constructor(u){super(),pe(this,u,we,be,ue,{})}}export{Ce as component};
